<template>
    <template if:true={showSpinner}>
        <lightning-spinner alternative-text="Loading..." variant="brand"></lightning-spinner>
    </template>
    

    <div class="slds-grid slds-wrap">
        <!-- <div class="slds-col slds-m-left_x-small slds-size_5-of-12">
            <lightning-combobox 
                name="CourseStatus" 
                label="Course Status :" 
                value={selectedCourseStatus} 
                variant="label-inline" 
                options={courseStatusOptions} 
                onchange={handleCourseStatusChange}>
            </lightning-combobox>
        </div> -->
        <div class="slds-col slds-m-left_x-small slds-size_1-of-1 slds-medium-size_1-of-1 slds-large-size_1-of-2">
            <lightning-combobox 
                name="Course" 
                label="Course :" 
                value={selectedCourse} 
                variant="label-inline" 
                options={courseOptions} 
                onchange={handleCourseChange}>
            </lightning-combobox>
        </div>
        
        <div class="slds-col slds-size_1-of-1 slds-medium-size_1-of-1 slds-large-size_2-of-2" style="margin-top: 4px; float: right;">
            <lightning-button 
                style="float: right;"
                variant="brand"
                label="Close Current Chart" 
                title="Close ModuleWise Chart" 
                class="slds-m-left_x-small"
                onclick={handleModuleChartClose}>
            </lightning-button>
        </div>
    </div>
    <template if:true={showTotalCount}>
        <div>
            <p style="float: right; margin-top: 5px;"><strong>Total Count : </strong> {totalStudents}</p>
        </div>
    </template>
    
    <template if:true={showModuleWiseChart}>
        <div class="slds-m-top_medium slds-grid slds-wrap">
            <div class="slds-col  slds-size_1-of-1 slds-medium-size_1-of-1 slds-large-size_1-of-2">
                <canvas lwc:dom="manual" class="chart as-per-the-schedule"></canvas>
            </div>
            <div class="slds-col  slds-size_1-of-1 slds-medium-size_1-of-1 slds-large-size_1-of-2"> 
                <canvas lwc:dom="manual" class="chart ahead-of-schedule"></canvas>
            </div>
            
        </div>
        <div class="slds-m-top_medium slds-grid slds-wrap">
            <div class="slds-col  slds-size_1-of-1 slds-medium-size_1-of-1 slds-large-size_1-of-2">
                <canvas lwc:dom="manual" class="chart lagging-behind"></canvas>
            </div>
            <div class="slds-col  slds-size_1-of-1 slds-medium-size_1-of-1 slds-large-size_1-of-2">
                <canvas lwc:dom="manual" class="chart module-progress"></canvas>
            </div>
            
        </div>
        <div class="slds-m-top_medium slds-grid slds-wrap">
            
            <div class="slds-col  slds-size_1-of-1 slds-medium-size_1-of-1 slds-large-size_1-of-2">
                <canvas lwc:dom="manual" class="chart course-progress"></canvas>
            </div>
            <div class="slds-col  slds-size_1-of-1 slds-medium-size_1-of-1 slds-large-size_1-of-2">
                <canvas lwc:dom="manual" class="chart project"></canvas>
            </div>
        </div>
    </template>
    

    <template if:true={showStudentLevelChart}>
        <c-student-level-dashboard 
            selected-module={selectedModule}
            selected-chart={selectedChart}
            student-details={filteredStudentData} 
            onclosestudentchart={handleStudentListClose}>
        </c-student-level-dashboard>
    </template>
   
</template>